<section class="bg-secondary" id="events">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Events</h2>
                <hr class="primary">
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-justify">
                {{ $node := . }}
                {{ .Scratch.Set "empty" true }}

                {{ range $index, $el := where ( where .Data.Pages "Section" "events" ) ".Params.show" true  }}
                    {{ $node.Scratch.Set "empty" false }}

                    {{ if gt $index 0 }}
                        <hr class="primary">
                    {{ end }}

                    {{ .Render "summary" }}

                    <div class="event clearfix">
                        <div class="col-sm-12">
                            [<a href="{{ .URL }}">Permalink</a>]
                        </div>
                    </div>
                {{ end }}

                {{ if .Scratch.Get "empty" }}
                    <p class="text-center">No events found.</p>
                {{ end }}
            </div>
        </div>
    </div>
</section>
